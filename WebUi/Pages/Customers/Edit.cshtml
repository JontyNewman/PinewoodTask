@page "/Customers/{Id}"
@using JontyNewman.PinewoodTask.WebUi.Pages.Shared
@model EditModel
@{
    ViewData["Title"] = "New Customer";
}

<div class="mb-3">
    <a asp-page="../Customers">
        <span class="font-monospace" aria-hidden="true">&#9664;</span>
        Back
    </a>
</div>

<div class="row">
    <div class="col-md-7 col-lg-6 col-xl-5">
        @if (!ModelState.IsValid)
        {
            <div asp-validation-summary="All" class="alert alert-danger">
                <p>There is a problem</p>
            </div>
        }
        <form class="mb-3" method="post">
            <partial name="_CustomerForm" model="new CustomerForm()
            {
                Customer = Model.Customer,
                ModelState = Model.ModelState,
                Root = [nameof(Model.Customer)]
            }" />
            <button type="submit" class="btn btn-primary">Save customer</button>
        </form>
        <div>
            <a asp-page="/Customers/Remove" asp-route-id="@Model.Customer.Id" class="btn btn-danger">Remove customer</a>
        </div>
    </div>
</div>